!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("@material-ui/core"),require("react-jsonschema-form/lib/utils"),require("@material-ui/icons"),require("@material-ui/lab")):"function"==typeof define&&define.amd?define(["PropTypes","React","@material-ui/core","react-jsonschema-form/lib/util","@material-ui/icons","@material-ui/lab"],t):"object"==typeof exports?exports.reactJsonSchemaMaterialTheme=t(require("prop-types"),require("react"),require("@material-ui/core"),require("react-jsonschema-form/lib/utils"),require("@material-ui/icons"),require("@material-ui/lab")):e.reactJsonSchemaMaterialTheme=t(e.PropTypes,e.React,e["@material-ui/core"],e["react-jsonschema-form/lib/util"],e["@material-ui/icons"],e["@material-ui/lab"])}(window,function(a,r,n,o,i,l){return function(a){var r={};function n(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}return n.m=a,n.c=r,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/build/",n(n.s=19)}([function(e,t){e.exports=a},function(e,t){e.exports=r},function(e,t){e.exports=n},function(e,t){e.exports=o},function(e,t){function a(){return e.exports=a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},a.apply(this,arguments)}e.exports=a},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t){e.exports=i},function(e,t){e.exports=l},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,a){return t&&r(e.prototype,t),a&&r(e,a),e}},function(e,t,a){var r=a(16),n=a(5);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?n(e):t}},function(t,e){function a(e){return t.exports=a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}t.exports=a},function(e,t,a){var r=a(17);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,a){var i=a(18);e.exports=function(e,t){if(null==e)return{};var a,r,n=i(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],0<=t.indexOf(a)||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}},function(e,t,a){var n=a(6);e.exports=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},r=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(a).filter(function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),r.forEach(function(e){n(t,e,a[e])})}return t}},function(t,e){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){return"function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?t.exports=r=function(e){return a(e)}:t.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":a(e)},r(e)}t.exports=r},function(a,e){function r(e,t){return a.exports=r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}a.exports=r},function(e,t){e.exports=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],0<=t.indexOf(a)||(n[a]=e[a]);return n}},function(e,t,a){"use strict";a.r(t);var r=a(4),s=a.n(r),n=a(9),d=a.n(n),o=a(10),i=a.n(o),l=a(11),p=a.n(l),u=a(12),m=a.n(u),c=a(13),f=a.n(c),b=a(5),y=a.n(b),g=a(6),v=a.n(g),h=a(1),O=a.n(h),E=a(0),x=a.n(E),C=a(3);function T(e){var t=e.type,a=e.range,r=e.value,n=e.select,o=e.rootId,i=e.disabled,l=e.readonly,u=e.autofocus,c=e.registry,s=e.onBlur,d=o+"_"+t,p=c.widgets.SelectWidget;return O.a.createElement(p,{schema:{type:"integer"},id:d,className:"form-control",options:{enumOptions:function(e,t){for(var a=[],r=e;r<=t;r++)a.push({value:r,label:Object(C.pad)(r,2)});return a}(a[0],a[1])},placeholder:t,value:r,disabled:i,readonly:l,autofocus:u,onChange:function(e){return n(t,e)},onBlur:s})}var j=function(e){function t(e){var l;return d()(this,t),l=p()(this,m()(t).call(this,e)),v()(y()(y()(l)),"onChange",function(e,t){l.setState(v()({},e,void 0===t?-1:t),function(){var t;t=l.state,Object.keys(t).every(function(e){return-1!==t[e]})&&l.props.onChange(Object(C.toDateString)(l.state,l.props.time))})}),v()(y()(y()(l)),"setNow",function(e){e.preventDefault();var t=l.props,a=t.time,r=t.disabled,n=t.readonly,o=t.onChange;if(!r&&!n){var i=Object(C.parseDateString)((new Date).toJSON(),a);l.setState(i,function(){return o(Object(C.toDateString)(l.state,a))})}}),v()(y()(y()(l)),"clear",function(e){e.preventDefault();var t=l.props,a=t.time,r=t.disabled,n=t.readonly,o=t.onChange;r||n||l.setState(Object(C.parseDateString)("",a),function(){return o(void 0)})}),l.state=Object(C.parseDateString)(e.value,e.time),l}return f()(t,e),i()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState(Object(C.parseDateString)(e.value,e.time))}},{key:"shouldComponentUpdate",value:function(e,t){return Object(C.shouldRender)(this,e,t)}},{key:"render",value:function(){var a=this,e=this.props,r=e.id,n=e.disabled,o=e.readonly,i=e.autofocus,l=e.registry,u=e.onBlur;return O.a.createElement("ul",{className:"list-inline"},this.dateElementProps.map(function(e,t){return O.a.createElement("li",{key:t},O.a.createElement(T,s()({rootId:r,select:a.onChange},e,{disabled:n,readonly:o,registry:l,onBlur:u,autofocus:i&&0===t})))}),O.a.createElement("li",null,O.a.createElement("a",{href:"#",className:"btn btn-info btn-now",onClick:this.setNow},"Now")),O.a.createElement("li",null,O.a.createElement("a",{href:"#",className:"btn btn-warning btn-clear",onClick:this.clear},"Clear")))}},{key:"dateElementProps",get:function(){var e=this.props,t=e.time,a=e.options,r=this.state,n=r.year,o=r.month,i=r.day,l=r.hour,u=r.minute,c=r.second,s=[{type:"year",range:a.yearsRange,value:n},{type:"month",range:[1,12],value:o},{type:"day",range:[1,31],value:i}];return t&&s.push({type:"hour",range:[0,23],value:l},{type:"minute",range:[0,59],value:u},{type:"second",range:[0,59],value:c}),s}}]),t}(h.Component);j.defaultProps={time:!1,disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,(new Date).getFullYear()+2]}},j.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,value:x.a.string,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func,onBlur:x.a.func,time:x.a.bool,options:x.a.object};var S=j;function w(e){var t=e.registry.widgets.AltDateWidget;return O.a.createElement(t,s()({time:!0},e))}w.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,value:x.a.string,required:x.a.bool,onChange:x.a.func,options:x.a.object},w.defaultProps={disabled:!1,readonly:!1,autofocus:!1,options:{yearsRange:[1900,(new Date).getFullYear()+2]},time:!0};var q=w,W=a(14),k=a.n(W),R=a(2);function D(a){if(!a.id)throw console.log("No id for",a),new Error("no id for props ".concat(JSON.stringify(a)));var e=a.value,t=a.readonly,r=a.disabled,n=a.autofocus,o=a.onBlur,i=a.onFocus,l=a.options,u=(a.schema,a.formContext,a.registry,a.errors),c=k()(a,["value","readonly","disabled","autofocus","onBlur","onFocus","options","schema","formContext","registry","errors"]);c.type=l.inputType||c.type||"text";return O.a.createElement(R.Input,s()({className:"form-control",readOnly:t,disabled:r,error:function(e){for(var t in e)if(e.hasOwnProperty(t))return!0;return!1}(u),autoFocus:n,value:null==e?"":e},c,{onChange:function(e){var t=e.target.value;return a.onChange(""===t?l.emptyValue:t)},onBlur:o&&function(e){return o(c.id,e.target.value)},onFocus:i&&function(e){return i(c.id,e.target.value)},disableUnderline:!0}))}D.defaultProps={type:"text",required:!1,disabled:!1,readonly:!1,autofocus:!1},D.propTypes={id:x.a.string.isRequired,placeholder:x.a.string,value:x.a.any,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func,onBlur:x.a.func,onFocus:x.a.func};var B=D;function F(e){var t=e.schema,a=e.id,r=e.value,n=e.required,o=e.disabled,i=e.readonly,l=e.label,u=e.autofocus,c=e.onChange,s=e.registry.templates.DescriptionTemplate;return O.a.createElement("div",{className:"checkbox ".concat(o||i?"disabled":"")},t.description&&O.a.createElement(s,{description:t.description}),O.a.createElement(R.FormControlLabel,{id:a,checked:void 0!==r&&r,required:n,disabled:o||i,autoFocus:u,onChange:function(e){return c(e.target.checked)},control:O.a.createElement(R.Checkbox,null),label:l}))}F.defaultProps={autofocus:!1},F.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,value:x.a.bool,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func};var P=F;function N(e){var n=e.id,o=e.disabled,t=e.options,u=e.value,i=e.autofocus,c=e.readonly,s=e.onChange,d=t.enumOptions,p=t.inline;return O.a.createElement("div",{className:"checkboxes",id:n},d.map(function(l,e){var t=-1!==u.indexOf(l.value),a=o||c?"disabled":"",r=O.a.createElement(R.FormControlLabel,{id:"".concat(n,"_").concat(e),checked:t,disabled:o||c,autoFocus:i&&0===e,onChange:function(e){var t,a,r,n,o,i=d.map(function(e){return e.value});e.target.checked?s((a=l.value,r=u,o=(n=i).indexOf(a),r.slice(0,o).concat(a,r.slice(o)).sort(function(e,t){return n.indexOf(e)>n.indexOf(t)}))):s((t=l.value,u.filter(function(e){return e!==t})))},control:O.a.createElement(R.Checkbox,null),label:l.label});return p?O.a.createElement("div",{key:e,className:"checkbox-inline ".concat(a)},r):O.a.createElement("div",{key:e,className:"checkbox ".concat(a)},r)}))}N.defaultProps={autofocus:!1,options:{inline:!1}},N.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,options:x.a.shape({enumOptions:x.a.array,inline:x.a.bool}).isRequired,value:x.a.any,required:x.a.bool,readonly:x.a.bool,disabled:x.a.bool,multiple:x.a.bool,autofocus:x.a.bool,onChange:x.a.func};var I=N;function _(e){var t=e.disabled,a=e.readonly,r=e.registry.widgets.BaseInput;return O.a.createElement(r,s()({type:"color"},e,{disabled:t||a}))}_.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,value:x.a.string,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func};var U=_;function L(e){var t=e.onChange,a=e.registry.widgets.BaseInput;return O.a.createElement(a,s()({type:"date"},e,{onChange:function(e){return t(e||void 0)}}))}L.propTypes={value:x.a.string};var M=L;function A(e){var t=e.value,a=e.onChange,r=e.registry.widgets.BaseInput;return O.a.createElement(r,s()({type:"datetime-local"},e,{value:function(e){if(!e)return"";var t=new Date(e),a=Object(C.pad)(t.getFullYear(),4),r=Object(C.pad)(t.getMonth()+1,2),n=Object(C.pad)(t.getDate(),2),o=Object(C.pad)(t.getHours(),2),i=Object(C.pad)(t.getMinutes(),2),l=Object(C.pad)(t.getSeconds(),2),u=Object(C.pad)(t.getMilliseconds(),3);return"".concat(a,"-").concat(r,"-").concat(n,"T").concat(o,":").concat(i,":").concat(l,".").concat(u)}(t),onChange:function(e){return a(function(e){if(e)return new Date(e).toJSON()}(e))}}))}A.propTypes={value:x.a.string};var z=A;function $(e){var t=e.registry.widgets.BaseInput;return O.a.createElement(t,s()({type:"email"},e))}$.propTypes={value:x.a.string};var H=$,J=a(7);function G(a){var n=a.name,o=a.size,i=a.type;return new Promise(function(r,e){var t=new window.FileReader;t.onerror=e,t.onload=function(e){var t,a;r({dataURL:(t=e.target.result,a=n,t.replace(";base64",";name=".concat(a,";base64"))),name:n,size:o,type:i})},t.readAsDataURL(a)})}function V(e){var t=e.filesInfo;return 0===t.length?null:O.a.createElement(R.List,{className:"file-info"},t.map(function(e,t){var a=e.name,r=e.size,n=e.type;return O.a.createElement(R.Grid,{key:t,container:!0,alignItems:"center"},O.a.createElement(J.AttachFile,{fontSize:"small",color:"secondary"}),O.a.createElement(R.Typography,{variant:"subtitle1",color:"secondary"},a,"   (",n,", ",r," bytes)"))}))}var Y=function(e){function n(e){var o;d()(this,n),o=p()(this,m()(n).call(this,e)),v()(y()(y()(o)),"onChange",function(e){var t,a=o.props,r=a.multiple,n=a.onChange;(t=e.target.files,Promise.all([].map.call(t,G))).then(function(e){var t={values:e.map(function(e){return e.dataURL}),filesInfo:e};Object(C.setState)(y()(y()(o)),t,function(){n(r?t.values:t.values[0])})})});var t,a=e.value,r=Array.isArray(a)?a:[a];return o.state={values:r,filesInfo:(t=r,t.filter(function(e){return void 0!==e}).map(function(e){var t=Object(C.dataURItoBlob)(e),a=t.blob;return{name:t.name,size:a.size,type:a.type}}))},o}return f()(n,e),i()(n,[{key:"shouldComponentUpdate",value:function(e,t){return Object(C.shouldRender)(this,e,t)}},{key:"render",value:function(){var t=this,e=this.props,a=e.multiple,r=e.id,n=e.readonly,o=e.disabled,i=e.autofocus,l=this.state.filesInfo;return O.a.createElement("div",null,O.a.createElement(R.Input,{ref:function(e){return t.inputRef=e},id:r,type:"file",disabled:n||o,onChange:this.onChange,defaultValue:"",autoFocus:i,multiple:a,style:{display:"none"}}),O.a.createElement("label",{htmlFor:r},O.a.createElement(R.Button,{variant:"outlined",color:"primary",component:"span"},"Upload")),O.a.createElement("br",null),O.a.createElement(V,{filesInfo:l}))}}]),n}(h.Component);Y.defaultProps={autofocus:!1},Y.propTypes={multiple:x.a.bool,value:x.a.oneOfType([x.a.string,x.a.arrayOf(x.a.string)]),autofocus:x.a.bool};var K=Y;function X(e){var t=e.id,a=e.value;return O.a.createElement("input",{type:"hidden",id:t,value:void 0===a?"":a})}X.propTypes={id:x.a.string.isRequired,value:x.a.oneOfType([x.a.string,x.a.number,x.a.bool])};var Q=X;function Z(e){var t=e.registry.widgets.BaseInput;return O.a.createElement(t,s()({type:"password"},e))}Z.propTypes={value:x.a.string};var ee=Z;function te(e){var t=e.options,o=e.value,i=e.required,l=e.disabled,u=e.readonly,c=e.autofocus,s=e.onChange,d=Math.random().toString(),a=t.enumOptions,p=t.inline;return O.a.createElement("div",{className:"field-radio-group"},a.map(function(t,e){var a=t.value===o,r=l||u?"disabled":"",n=O.a.createElement(R.FormControlLabel,{checked:a,name:d,required:i,disabled:l||u,autoFocus:c&&0===e,onChange:function(e){return s(t.value)},label:t.label,value:t.label,labelPlacement:"end",control:O.a.createElement(R.Radio,null)});return p?O.a.createElement("label",{key:e,className:"radio-inline ".concat(r)},n):O.a.createElement("div",{key:e,className:"radio ".concat(r)},O.a.createElement("label",null,n))}))}te.defaultProps={autofocus:!1},te.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,options:x.a.shape({enumOptions:x.a.array,inline:x.a.bool}).isRequired,value:x.a.any,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func};var ae=te,re=a(8);function ne(a){var e=a.schema,t=a.value;a.registry.widgets.BaseInput;return O.a.createElement("div",{className:"field-range-wrapper"},O.a.createElement(re.Slider,s()({},a,{step:a.step?a.step:1},Object(C.rangeSpec)(e),{onChange:function(e,t){e.preventDefault(),a.onChange(t)}})),O.a.createElement(R.Typography,{variant:"body2",color:"textSecondary",gutterBottom:!0},t))}ne.propTypes={value:x.a.oneOfType([x.a.string,x.a.number])};var oe=ne,ie=new Set(["number","integer"]);function le(e,t){var a=e.type,r=e.items;if(""!==t)return"array"===a&&r&&ie.has(r.type)?t.map(C.asNumber):"boolean"===a?"true"===t:"number"===a?Object(C.asNumber)(t):t}function ue(e,t){return t?[].slice.call(e.target.options).filter(function(e){return e.selected}).map(function(e){return e.value}):e.target.value}function ce(e){var a=e.schema,r=e.id,t=e.options,n=e.value,o=e.required,i=e.disabled,l=e.readonly,u=e.multiple,c=e.autofocus,s=e.onChange,d=e.onBlur,p=e.onFocus,m=e.placeholder,f=t.enumOptions,b=t.enumDisabled,y=u?[]:"";return O.a.createElement(R.FormControl,null,O.a.createElement(R.Select,{id:r,multiple:u,className:"form-control",value:void 0===n?y:n,required:o,disabled:i||l,autoFocus:c,onBlur:d&&function(e){var t=ue(e,u);d(r,le(a,t))},onFocus:p&&function(e){var t=ue(e,u);p(r,le(a,t))},onChange:function(e){var t=ue(e,u);s(le(a,t))}},!u&&!a.default&&O.a.createElement("option",{value:""},m),f.map(function(e,t){var a=e.value,r=e.label,n=b&&-1!=b.indexOf(a);return O.a.createElement(R.MenuItem,{key:t,value:a,disabled:n},r)})))}ce.defaultProps={autofocus:!1},ce.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,options:x.a.shape({enumOptions:x.a.array}).isRequired,value:x.a.any,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,multiple:x.a.bool,autofocus:x.a.bool,onChange:x.a.func,onBlur:x.a.func,onFocus:x.a.func};var se=ce;function de(e){var t=e.id,a=e.options,r=e.placeholder,n=e.value,o=e.required,i=e.disabled,l=e.readonly,u=e.autofocus,c=e.onChange,s=e.onBlur,d=e.onFocus;return O.a.createElement(R.TextField,{id:t,value:void 0===n?"":n,placeholder:r,required:o,disabled:i,readOnly:l,autoFocus:u,rows:a.rows,onBlur:s&&function(e){return s(t,e.target.value)},onFocus:d&&function(e){return d(t,e.target.value)},onChange:function(e){var t=e.target.value;return c(""===t?a.emptyValue:t)},multiline:!0})}de.defaultProps={autofocus:!1,options:{}},de.propTypes={schema:x.a.object.isRequired,id:x.a.string.isRequired,placeholder:x.a.string,options:x.a.shape({rows:x.a.number}),value:x.a.string,required:x.a.bool,disabled:x.a.bool,readonly:x.a.bool,autofocus:x.a.bool,onChange:x.a.func,onBlur:x.a.func,onFocus:x.a.func};var pe=de;function me(e){var t=e.registry.widgets.BaseInput;return O.a.createElement(t,e)}me.propTypes={value:x.a.oneOfType([x.a.string,x.a.number]),id:x.a.string};var fe=me;function be(e){var t=e.registry.widgets.BaseInput;return O.a.createElement(t,s()({type:"url"},e))}be.propTypes={value:x.a.string};var ye=be;function ge(e){var t=e.registry.widgets.BaseInput;return O.a.createElement(t,s()({type:"number"},e,Object(C.rangeSpec)(e.schema)))}ge.propTypes={value:x.a.oneOfType([x.a.number,x.a.string])};var ve=ge,he=a(15),Ee=a.n(he),xe={BaseInput:B,PasswordWidget:ee,RadioWidget:ae,UpDownWidget:ve,RangeWidget:oe,SelectWidget:se,TextWidget:fe,DateWidget:M,DateTimeWidget:z,AltDateWidget:S,AltDateTimeWidget:q,EmailWidget:H,URLWidget:ye,TextareaWidget:pe,HiddenWidget:Q,ColorWidget:U,FileWidget:K,CheckboxWidget:P,CheckboxesWidget:I,ObjectFileWidget:function(e){function c(e){var t;d()(this,c),t=p()(this,m()(c).call(this,e));var a=e.formData,r=void 0===a?{}:a,n={formData:r};if(!r.file&&r.content){var o=Object(C.dataURItoBlob)(r.content),i=o.blob,l=o.name,u=void 0===l?r.name:l;n.file=new File([i],u,{type:r.mimeType})}return n.file&&(n.url=URL.createObjectURL(n.file)),t.state=Ee()({},n,{formData:r}),t}return f()(c,e),i()(c,[{key:"clearState",value:function(){var t=this;return function(e){t.state.url&&URL.revokeObjectURL(t.state.url),t.setState({url:null,file:null,formData:{}},function(){return t.props.onChange({})})}}},{key:"onChange",value:function(){var o=this;return function(e){var t=e.target.files[0];if(!t)return o.setState({file:null,url:null,formData:{}},function(){return o.props.onChange({})});var a={mimeType:t.type,name:t.name,size:t.size,content:""},r=URL.createObjectURL(t),n=new FileReader;n.readAsDataURL(t),n.onload=function(){a.content=n.result,o.setState({file:t,url:r,formData:a},function(){return o.props.onChange(a)})}}}},{key:"render",value:function(){var t=this,e=this.props,a=e.id,r=e.label,n=e.uiSchema,o=e.formData,i=e.errors,l=e.idSchema,u=e.name,c=e.required,s=e.disabled,d=e.readonly,p=e.idPrefix,m=e.onBlur,f=e.onFocus,b=e.registry,y=b.definitions,g=b.templates,v=b.formContext,h=g.FieldTemplate,E=Object(C.retrieveSchema)(this.props.schema,y,o),x={label:r,description:n["ui:description"]||E.description,idSchema:l,uiSchema:n,schema:E,formData:o,formContext:v,registry:b,errors:i,idPrefix:p},T=(((E.properties||{}).mimeType||{}).enum||[]).join(",");return O.a.createElement(h,x,O.a.createElement(R.InputLabel,null,O.a.createElement("input",{id:a,type:"file",name:u,required:c,disabled:d||s,onChange:this.onChange(),onBlur:m&&function(e){return m(t.state)},onFocus:f&&function(e){return f(t.state)},accept:T})),this.state.formData&&this.state.formData.name&&O.a.createElement(R.Typography,{variant:"body"},O.a.createElement("a",{href:this.state.url,target:"_blank"},this.state.formData.name),O.a.createElement(R.Button,{onClick:this.clearState()},"X")))}}]),c}(h.Component),__widgetMap:{boolean:{checkbox:"CheckboxWidget",radio:"RadioWidget",select:"SelectWidget",hidden:"HiddenWidget"},string:{text:"TextWidget",password:"PasswordWidget",email:"EmailWidget",hostname:"TextWidget",ipv4:"TextWidget",ipv6:"TextWidget",uri:"URLWidget","data-url":"FileWidget",radio:"RadioWidget",select:"SelectWidget",textarea:"TextareaWidget",hidden:"HiddenWidget",date:"DateWidget",datetime:"DateTimeWidget","date-time":"DateTimeWidget","alt-date":"AltDateWidget","alt-datetime":"AltDateTimeWidget",color:"ColorWidget",file:"FileWidget"},number:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},integer:{text:"TextWidget",select:"SelectWidget",updown:"UpDownWidget",range:"RangeWidget",radio:"RadioWidget",hidden:"HiddenWidget"},array:{select:"SelectWidget",checkboxes:"CheckboxesWidget",files:"FileWidget"},object:{file:"ObjectFileWidget"}}};function Te(e){var t=e.TitleTemplate,a=e.idSchema,r=e.title,n=e.required;if(!r)return O.a.createElement("div",null);var o="".concat(a.$id,"__title");return O.a.createElement(t,{id:o,title:r,required:n})}function Oe(e){var t=e.DescriptionTemplate,a=e.idSchema,r=e.description,n=e.formContext;if(!r)return O.a.createElement("div",null);var o="".concat(a.$id,"__description");return O.a.createElement(t,{id:o,description:r,formContext:n})}function Ce(e){var t=e.onClick,a=e.disabled;return O.a.createElement(R.Button,{variant:"outlined",disabled:a,onClick:t},O.a.createElement(J.Add,null))}function je(e){var t=e.id,a=e.description;return a?O.a.createElement(R.Typography,{variant:"subtitle2",color:"secondary",id:t,className:"field-description",gutterBottom:!0},a):O.a.createElement("div",null)}je.propTypes={id:x.a.string,description:x.a.oneOfType([x.a.string,x.a.object])};var Se=je;var we="*";function qe(e){var t=e.id,a=e.label,r=e.children,n=e.errors,o=e.help,i=e.description,l=e.hidden,u=e.required,c=e.displayLabel,s=e.formContext,d=e.registry.templates.DescriptionTemplate;[e.classNames,"form-group"].join(" ").trim();return l?r:O.a.createElement(R.FormGroup,null,c&&O.a.createElement(We,{label:a,required:u,id:t}),c&&i?O.a.createElement(d,{id:"".concat(t,"__description"),description:i,formContext:s}):null,r,O.a.createElement(Re,{errors:n}),O.a.createElement(ke,{help:o}))}function We(e){var t=e.label,a=e.required,r=e.id;return t?O.a.createElement(R.Typography,{htmlFor:r,variant:"overline",gutterBottom:!0},t,a&&O.a.createElement("span",{className:"required"},we)):O.a.createElement("div",null)}function ke(e){var t=e.help;return t?O.a.createElement(R.Typography,{variant:"subtitle1",color:"secondary",className:"help-block",gutterBottom:!0},t):O.a.createElement("div",null)}function Re(e){var t=e.errors,a=void 0===t?[]:t;return 0===a.length?O.a.createElement("div",null):O.a.createElement("div",null,a.map(function(e,t){return O.a.createElement(R.Typography,{variant:"subtitle2",color:"error",key:t,gutterBottom:!0},e)}))}qe.defaultProps={hidden:!1,readonly:!1,required:!1,displayLabel:!0},qe.propTypes={id:x.a.string,classNames:x.a.string,label:x.a.string,children:x.a.node.isRequired,errors:x.a.arrayOf(x.a.string),help:x.a.oneOfType([x.a.string,x.a.object]),description:x.a.oneOfType([x.a.string,x.a.object]),hidden:x.a.bool,required:x.a.bool,readonly:x.a.bool,displayLabel:x.a.bool,fields:x.a.object,formContext:x.a.object};var De=function(){return O.a.createElement("div",null,O.a.createElement(R.Button,{type:"submit",className:"btn btn-info"},"Submit"))};function Be(e){var t=e.id,a=e.title,r=e.required?a+"*":a;return O.a.createElement(R.Typography,{variant:"h4",id:t,gutterBottom:!0},r)}Be.propTypes={id:x.a.string,title:x.a.string,required:x.a.bool};var Fe={widgets:xe,templates:{ArrayFieldTemplate:function(e){var t=e.registry.templates,a=t.TitleTemplate,r=t.DescriptionTemplate;return O.a.createElement("fieldset",{className:e.className},O.a.createElement(Te,{key:"array-field-title-".concat(e.idSchema.$id),TitleTemplate:a,idSchema:e.idSchema,title:e.uiSchema["ui:title"]||e.title,required:e.required}),(e.uiSchema["ui:description"]||e.schema.description)&&O.a.createElement(Oe,{key:"array-field-description-".concat(e.idSchema.$id),DescriptionTemplate:r,idSchema:e.idSchema,description:e.uiSchema["ui:description"]||e.schema.description}),O.a.createElement("div",{className:"row array-item-list",key:"array-item-list-".concat(e.idSchema.$id)},e.items&&e.items.map(function(e){return t=e,O.a.createElement("div",{key:t.index,className:t.className},O.a.createElement("div",{className:t.hasToolbar?"col-xs-9":"col-xs-12"},t.children),t.hasToolbar&&O.a.createElement("div",{className:"col-xs-3 array-item-toolbox"},O.a.createElement(re.ToggleButtonGroup,{exclusive:!0},(t.hasMoveUp||t.hasMoveDown)&&O.a.createElement(re.ToggleButton,{disabled:t.disabled||t.readonly||!t.hasMoveUp,onClick:t.onReorderClick(t.index,t.index-1)},O.a.createElement(J.KeyboardArrowUp,{color:"primary",tabIndex:"-1"})),(t.hasMoveUp||t.hasMoveDown)&&O.a.createElement(re.ToggleButton,{disabled:t.disabled||t.readonly||!t.hasMoveDown,onClick:t.onReorderClick(t.index,t.index+1)},O.a.createElement(J.KeyboardArrowDown,{color:"primary",tabIndex:"-1"})),t.hasRemove&&O.a.createElement(re.ToggleButton,{disabled:t.disabled||t.readonly,onClick:t.onDropIndexClick(t.index)},O.a.createElement(J.Close,{color:"error",tabIndex:"-1"}))),O.a.createElement("br",null)));var t})),e.canAdd&&O.a.createElement(Ce,{onClick:e.onAddClick,disabled:e.disabled||e.readonly}))},DescriptionTemplate:Se,ErrorListTemplate:function(e){var t=e.errors;return O.a.createElement("div",{className:"panel panel-danger errors"},O.a.createElement(R.Typography,{variant:"h4",color:"error",gutterBottom:!0},"Errors"),t.map(function(e,t){return O.a.createElement(R.Typography,{key:t,variant:"subtitle2",color:"error",gutterBottom:!0},e.stack)}),O.a.createElement("br",null))},FieldTemplate:qe,ObjectFieldTemplate:function(e){var t=e.registry.templates,a=t.TitleTemplate,r=t.DescriptionTemplate;return O.a.createElement("fieldset",null,(e.uiSchema["ui:title"]||e.title)&&O.a.createElement(a,{id:"".concat(e.idSchema.$id,"__title"),title:e.title||e.uiSchema["ui:title"],required:e.required,formContext:e.formContext}),e.description&&O.a.createElement(r,{id:"".concat(e.idSchema.$id,"__description"),description:e.description,formContext:e.formContext}),e.properties.map(function(e){return e.content}))},SubmitTemplate:De,TitleTemplate:Be}};t.default=Fe}])});